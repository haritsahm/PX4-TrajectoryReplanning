<launch>

    <arg name="mav_name" default="iris"/>

    <node pkg="geometric_controller" type="geometric_controller_node" name="geometric_controller" output="screen">
            <param name="mav_name" type="string" value="$(arg mav_name)" />
            <remap from="command/bodyrate_command" to="/mavros/setpoint_raw/attitude"/>
            <param name="ctrl_mode" value="2" />
            <param name="max_acc" value="10.0" />
            <param name="Kpos_x" value="8.0" />
            <param name="Kpos_y" value="8.0" />
            <param name="Kpos_z" value="10.0" />
            <param name="enable_sim" value="false" type="bool"/>
    </node>

    <node pkg="px4_trajectory_replanning" type="px4_interface_node" name="px4_controller_node" output="screen" />
    <node pkg="px4_trajectory_replanning" type="px4_mavros_controller_node" name="px4_mavros_controller_node" output="screen" />
    <node pkg="px4_trajectory_replanning" type="px4_position_controller_node" name="px4_position_controller_node" output="screen">
        <rosparam command="load" file="$(find rotors_gazebo)/resource/$(arg mav_name).yaml" />
    </node>

    <!-- <node type="rviz" name="rviz" pkg="rviz" args="-d $(find px4_trajectory_replanning)/rviz/config_file.rviz" /> -->
    <include file="$(find px4_trajectory_replanning)/launch/trajectory_replanning_rrt.launch" />


</launch>
